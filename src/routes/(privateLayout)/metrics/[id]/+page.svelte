<script lang="ts">
	import { enhance } from '$app/forms';
	import { goto } from '$app/navigation';
	import { metricUnits } from '$lib/json/metricUnits.json';
	import { fade } from 'svelte/transition';
	import type { ActionData } from './$types';
	import { generateHealthScore } from '$lib/helpers/generateHealthScore';
	import HealthScore from '$lib/components/HealthScore.svelte';
	import { createEmailHTML } from '$lib/helpers/createEmailHtml';
	import { toastStore } from '$lib/stores/toastStore.svelte';

	let { data, form }: { data: any; form: ActionData } = $props();

	const { user, supabase } = $derived(data);

	// console.log(data?.metric)

	let systolic = $state(data?.metric?.systolic || '');
	let diastolic = $state(data?.metric?.diastolic || '');
	let heart_rate = $state(data?.metric?.heart_rate || '');
	let blood_glucose = $state(data?.metric?.blood_glucose || '');
	let weight = $state(data?.metric?.weight || '');
	let temperature = $state(data?.metric?.temperature || '');
	let source = $state(data?.metric?.source || 'manual');

	let customMetrics = $state(
		data?.metric?.custom_metrics || [{ order: 1, key: '', value: '', unit: '' }]
	);
	let pdf: File | null = $state(null);
	let pdfName = $state('');
	let pdfUrl = $state('');

	let modalDelete = $state(false);
	let deleteText = $state('');
	let successDeleteModal = $state(false);
	let deleting = $state(false);

	let modalEmail = $state(false);
	let modalEmailSuccess = $state(false);
	let sending = $state(false);

	async function handlePdfUpload() {
		if (!pdf) return;
		const userId = user.id;
		const filePath = `pdfs/${userId}-${Date.now()}.pdf`;

		const { error: uploadError } = await supabase.storage
			.from('health-pdfs')
			.upload(filePath, pdf, { upsert: true });

		if (uploadError) {
			alert('PDF Upload Failed');
			return;
		}

		const { data } = supabase.storage.from('health-pdfs').getPublicUrl(filePath);
		pdfUrl = data.publicUrl;
		source = 'uploaded';
	}

	function addMetric() {
		customMetrics.push({ order: customMetrics?.length + 1, key: '', value: '', unit: '' });
	}

	function removeMetric(index: any) {
		customMetrics.splice(index, 1);
	}

	const deleteMetric = async (e: Event) => {
		e.preventDefault();

		if (deleteText === 'delete metric') {
			deleting = true;

			try {
				const { error: insertError } = await supabase
					.from('health_metrics')
					.delete()
					.eq('id', data?.metric?.id);

				if (!insertError) {
					modalDelete = false;
					setTimeout(() => {
						successDeleteModal = true;
					}, 500);
				} else {
					alert(`‚ùå Error: ${insertError}`);
				}
			} catch (err) {
				console.error(err);
				alert('Something went wrong while submitting!');
			} finally {
				deleting = false;
			}
		} else {
			alert('Please type "delete metric" to confirm deletion.');
		}
	};

	const healthScore = generateHealthScore(data?.metric);

	const sendHealthReport = async () => {
		sending = true;
		try {
			let { data: ai_report, error: err_ai_report } = await supabase
				.from('ai_reports')
				.select('*')
				// Filters
				.eq('metric_id', data?.metric?.id)
				.select()
				.single();

			// console.log(ai_report);

			// Create email html
			const emailHtml = createEmailHTML(ai_report?.health_score, data?.metric, ai_report?.feedback);

			if (emailHtml) {
				const emailRes = await fetch('/api/send-email', {
					method: 'POST',
					headers: {
						'Content-Type': 'application/json'
					},
					body: JSON.stringify({
						to: user?.email,
						subject: 'ü©∫ New Health Report Submitted',
						text: emailHtml
					})
				});

				const emailResult = await emailRes.json();

				if ((emailResult.message = 'Email sent successfully!')) {
					modalEmail = false;
					setTimeout(() => {
						modalEmailSuccess = true;
					}, 500);
				} else {
					alert(`‚ùå Error: ${emailResult.error}`);
				}
			}
		} finally {
			sending = false;
		}
	};
</script>

<section class="hms-container py-6">
	<div class="mb-8">
		<p
			class=" flex h-[60px] w-[60px] items-center justify-center rounded-full bg-base-300 text-3xl"
		>
			üìã
		</p>
		<h1 class=" mt-[3px] border-b-[3px] border-secondary pb-[8px] text-2xl font-bold">
			<span>Health Metrics</span>
			<span class=" text-secondary">|</span>
			<span class=" text-[#7f7f7f]">{data?.metric?.id}</span>
		</h1>
		<p class=" text-lg text-[#7f7f7f]">Create new metrics here.</p>
	</div>

	<div class="mb-4 w-full">
		<HealthScore score={healthScore} />
	</div>

	<div class="relative w-full">
		<div class=" top-0 right-0 mb-6 flex max-w-[140px] flex-col gap-2 lg:absolute lg:mb-0">
			<button onclick={() => (modalDelete = true)} type="button" class=" btn btn-error"
				>Delete Metrics</button
			>
			<button onclick={() => (modalEmail = true)} type="button" class=" btn btn-success"
				>Email Metrics</button
			>
		</div>
	</div>
	<form method="post" enctype="multipart/form-data" use:enhance action="?/addMetrics">
		<p class=" mb-2 text-xs text-[#7f7f7f]">(All fields required.)</p>
		<div class="grid max-w-3xl grid-cols-1 gap-4">
			<div class="grid grid-cols-1 gap-4 md:grid-cols-2">
				<label class="floating-label">
					<span>Systolic (mmHg)</span>
					<input
						name="systolic"
						type="text"
						placeholder="Systolic (mmHg)"
						class="input w-full"
						required
						bind:value={systolic}
					/>
				</label>
				<label class="floating-label">
					<span>Diastolic (mmHg)</span>
					<input
						name="diastolic"
						type="text"
						placeholder="Diastolic (mmHg)"
						class="input w-full"
						required
						bind:value={diastolic}
					/>
				</label>
				<label class="floating-label">
					<span>Heart Rate (bpm)</span>
					<input
						name="heart_rate"
						type="text"
						placeholder="Heart Rate (bpm)"
						class="input w-full"
						required
						bind:value={heart_rate}
					/>
				</label>
				<label class="floating-label">
					<span>Blood Glucose (mg/dL)</span>
					<input
						name="blood_glucose"
						type="text"
						placeholder="Blood Glucose (mg/dL)"
						class="input w-full"
						required
						bind:value={blood_glucose}
					/>
				</label>
				<label class="floating-label">
					<span>Weight (kg)</span>
					<input
						name="weight"
						type="text"
						placeholder="Weight (kg)"
						class="input w-full"
						required
						bind:value={weight}
					/>
				</label>

				<label class="floating-label">
					<span>Temperature (¬∞C)</span>
					<input
						name="temperature"
						type="text"
						placeholder="Temperature (¬∞C)"
						class="input w-full"
						required
						bind:value={temperature}
					/>
				</label>

				<input type="hidden" name="source" bind:value={source} />
			</div>

			<div class="relative py-4">
				<div class="absolute inset-0 flex items-center">
					<span class="w-full border-t border-accent"></span>
				</div>
				<div class="relative flex justify-center text-xs uppercase">
					<span class="bg-base-100 px-2 text-[#737373]">Custom Metrics</span>
				</div>
			</div>

			{#each customMetrics as metric, i (i)}
				<div class="relative grid grid-cols-1 gap-4 pr-[50px] md:grid-cols-2 lg:grid-cols-3">
					<input type="hidden" name="order" bind:value={metric.order} />
					<label class="floating-label">
						<span>Key</span>
						<input
							name="key"
							type="text"
							placeholder="Key"
							class="input w-full"
							required
							bind:value={metric.key}
						/>
					</label>

					<label class="floating-label">
						<span>Unit</span>

						<select class="select w-full" name="unit" required bind:value={metric.unit}>
							<option value="">Select</option>
							{#each metricUnits as u}
								<option value={u}>{u}</option>
							{/each}
						</select>
					</label>

					<label class="floating-label">
						<span>Value</span>
						<input
							name="value"
							type="text"
							placeholder="Value"
							class="input w-full"
							required
							bind:value={metric.value}
						/>
					</label>

					<button
						onclick={() => removeMetric(i)}
						aria-label="delete"
						type="button"
						class=" btn absolute right-0 btn-circle btn-error"
					>
						<svg
							xmlns:xlink="http://www.w3.org/1999/xlink"
							xmlns="http://www.w3.org/2000/svg"
							version="1.1"
							width="25px"
							height="26px"
						>
							<g transform="matrix(1 0 0 1 -58 -57 )">
								<path
									d="M 8.931107954545455 21.514322916666668  C 9.037642045454545 21.412760416666668  9.090909090909092 21.28298611111111  9 21.125  L 9 9.208333333333332  C 9.090909090909092 9.050347222222223  9.037642045454545 8.920572916666668  8.931107954545455 8.819010416666668  C 8.824573863636363 8.717447916666668  8.68844696969697 8.666666666666668  8.522727272727272 8.666666666666668  L 7.386363636363637 8.666666666666668  C 7.22064393939394 8.666666666666668  7.084517045454547 8.717447916666668  6.977982954545454 8.819010416666668  C 6.871448863636363 8.920572916666668  6.8181818181818175 9.050347222222223  7 9.208333333333332  L 7 21.125  C 6.8181818181818175 21.28298611111111  6.871448863636363 21.412760416666668  6.977982954545454 21.514322916666668  C 7.084517045454547 21.615885416666668  7.22064393939394 21.666666666666668  7.386363636363637 21.666666666666668  L 8.522727272727272 21.666666666666668  C 8.68844696969697 21.666666666666668  8.824573863636363 21.615885416666668  8.931107954545455 21.514322916666668  Z M 13.4765625 21.514322916666668  C 13.583096590909092 21.412760416666668  13.636363636363635 21.28298611111111  13.636363636363635 21.125  L 13.636363636363635 9.208333333333332  C 13.636363636363635 9.050347222222223  13.583096590909092 8.920572916666668  13.4765625 8.819010416666668  C 13.370028409090908 8.717447916666668  13.233901515151517 8.666666666666668  13.068181818181818 8.666666666666668  L 11.931818181818182 8.666666666666668  C 11.766098484848486 8.666666666666668  11.629971590909092 8.717447916666668  11.5234375 8.819010416666668  C 11.416903409090908 8.920572916666668  11.363636363636363 9.050347222222223  11.363636363636363 9.208333333333332  L 11.363636363636363 21.125  C 11.363636363636363 21.28298611111111  11.416903409090908 21.412760416666668  11.5234375 21.514322916666668  C 11.629971590909092 21.615885416666668  11.766098484848486 21.666666666666668  11.931818181818182 21.666666666666668  L 13.068181818181818 21.666666666666668  C 13.233901515151517 21.666666666666668  13.370028409090908 21.615885416666668  13.4765625 21.514322916666668  Z M 18.022017045454543 21.514322916666668  C 18.128551136363637 21.412760416666668  18.181818181818183 21.28298611111111  18 21.125  L 18 9.208333333333332  C 18.181818181818183 9.050347222222223  18.128551136363637 8.920572916666668  18.022017045454543 8.819010416666668  C 17.915482954545457 8.717447916666668  17.779356060606062 8.666666666666668  17.613636363636363 8.666666666666668  L 16.477272727272727 8.666666666666668  C 16.31155303030303 8.666666666666668  16.175426136363637 8.717447916666668  16.068892045454543 8.819010416666668  C 15.962357954545455 8.920572916666668  15.909090909090908 9.050347222222223  16 9.208333333333332  L 16 21.125  C 15.909090909090908 21.28298611111111  15.962357954545455 21.412760416666668  16.068892045454543 21.514322916666668  C 16.175426136363637 21.615885416666668  16.31155303030303 21.666666666666668  16.477272727272727 21.666666666666668  L 17.613636363636363 21.666666666666668  C 17.779356060606062 21.666666666666668  17.915482954545457 21.615885416666668  18.022017045454543 21.514322916666668  Z M 9.392755681818182 2.352864583333332  L 8.522727272727272 4.333333333333332  L 16.477272727272727 4.333333333333332  L 15.625 2.352864583333332  C 15.542140151515154 2.251302083333332  15.441524621212121 2.18923611111111  15.323153409090908 2.166666666666668  L 9.694602272727272 2.166666666666668  C 9.57623106060606 2.18923611111111  9.475615530303031 2.251302083333332  9.392755681818182 2.352864583333332  Z M 24.840198863636363 4.485677083333332  C 24.946732954545457 4.587239583333332  25 4.7170138888888875  25 4.875  L 25 5.958333333333332  C 25 6.116319444444442  24.946732954545457 6.24609375  24.840198863636363 6.34765625  C 24.733664772727273 6.44921875  24.597537878787882 6.5  24.431818181818183 6.5  L 22.727272727272727 6.5  L 22.727272727272727 22.546875  C 22.727272727272727 23.483506944444443  22.449100378787882 24.29318576388889  21.892755681818183 24.975911458333332  C 21.336410984848484 25.65863715277778  20.667613636363637 26  19.886363636363637 26  L 5.113636363636364 26  C 4.332386363636364 26  3.663589015151516 25.669921875  3.107244318181818 25.009765625  C 2.5508996212121215 24.349609375  2.272727272727273 23.55121527777778  2.272727272727273 22.614583333333332  L 2.272727272727273 6.5  L 0.5681818181818182 6.5  C 0.4024621212121212 6.5  0.2663352272727273 6.44921875  0.15980113636363638 6.34765625  C 0.05326704545454545 6.24609375  0 6.116319444444442  0 5.958333333333332  L 0 4.875  C 0 4.7170138888888875  0.05326704545454545 4.587239583333332  0.15980113636363638 4.485677083333332  C 0.2663352272727273 4.384114583333332  0.4024621212121212 4.333333333333332  0.5681818181818182 4.333333333333332  L 6.0546875 4.333333333333332  L 7.2975852272727275 1.5065104166666676  C 7.475142045454547 1.0889756944444422  7.794744318181819 0.7335069444444422  8.256392045454545 0.44010416666666763  C 8.718039772727273 0.14670138888888729  9.18560606060606 0  9.659090909090908 0  L 15.340909090909092 0  C 15.814393939393941 0  16.281960227272727 0.14670138888888729  16.743607954545457 0.44010416666666763  C 17.205255681818183 0.7335069444444422  17.524857954545457 1.0889756944444422  17.702414772727273 1.5065104166666676  L 18.9453125 4.333333333333332  L 24.431818181818183 4.333333333333332  C 24.597537878787882 4.333333333333332  24.733664772727273 4.384114583333332  24.840198863636363 4.485677083333332  Z "
									fill-rule="nonzero"
									fill="#fff"
									stroke="none"
									transform="matrix(1 0 0 1 58 57 )"
								/>
							</g>
						</svg>
					</button>
				</div>
			{/each}

			<div class="w-full">
				<button type="button" class="btn btn-soft btn-secondary" onclick={addMetric}>
					‚ûï Add Custom Metric
				</button>
			</div>
		</div>

		<div class="mt-16 flex w-full gap-[30px]">
			<button type="submit" class="btn btn-wide max-w-[130px] btn-lg btn-primary">Save</button>
			<a href="/metrics/list" class="btn btn-wide max-w-[130px] btn-outline btn-lg btn-primary"
				>Cancel</a
			>
		</div>
	</form>
</section>

{#if form?.success}
	<dialog id="my_modal_1" class="modal-open modal">
		<div class="modal-box" transition:fade>
			<p
				class=" mx-auto mb-[7px] flex h-[70px] w-[70px] items-center justify-center rounded-full bg-base-300 text-5xl"
			>
				üìã
			</p>
			<h4 class=" text-center text-3xl font-bold text-primary">Health Metrics</h4>
			<p class=" text-center text-2xl text-[#7f7f7f]">successfully saved.</p>
			<div class="modal-action justify-center">
				<button
					type="button"
					onclick={() => goto('/metrics/list')}
					class="btn btn-wide max-w-[150px] btn-lg btn-primary">Continue</button
				>
			</div>
		</div>
	</dialog>
{/if}

{#if modalDelete}
	<dialog id="my_modal_1" class="modal-open modal">
		<div class="relative modal-box" transition:fade>
			<button
				onclick={() => (modalDelete = false)}
				type="button"
				aria-label="close"
				class=" absolute top-[15px] right-[15px] cursor-pointer"
			>
				<svg
					xmlns:xlink="http://www.w3.org/1999/xlink"
					xmlns="http://www.w3.org/2000/svg"
					version="1.1"
					width="20px"
					height="20px"
				>
					<g transform="matrix(1 0 0 1 -644 -848 )">
						<path
							d="M 12.021428571428569 10  L 20 2.0214285714285714  L 17.97857142857143 0  L 10 7.9785714285714295  L 2.0214285714285714 0  L 0 2.0214285714285714  L 7.9785714285714295 10  L 0 17.97857142857143  L 2.0214285714285714 20  L 10 12.021428571428569  L 17.97857142857143 20  L 20 17.97857142857143  L 12.021428571428569 10  Z "
							fill-rule="nonzero"
							fill="#1e98d7"
							stroke="none"
							transform="matrix(1 0 0 1 644 848 )"
						/>
					</g>
				</svg>
			</button>
			<figure class="flex h-[40px] w-[38px] items-center justify-center">
				<svg
					xmlns:xlink="http://www.w3.org/1999/xlink"
					xmlns="http://www.w3.org/2000/svg"
					version="1.1"
					width="38px"
					height="40px"
				>
					<g transform="matrix(1 0 0 1 -268 -856 )">
						<path
							d="M 13.57528409090909 33.098958333333336  C 13.73721590909091 32.942708333333336  13.818181818181818 32.74305555555556  14 32.5  L 14 14.166666666666664  C 13.818181818181818 13.92361111111111  13.73721590909091 13.723958333333336  13.57528409090909 13.567708333333336  C 13.413352272727272 13.411458333333336  13.206439393939396 13.333333333333336  12.954545454545453 13.333333333333336  L 11.227272727272728 13.333333333333336  C 10.975378787878789 13.333333333333336  10.768465909090912 13.411458333333336  10.60653409090909 13.567708333333336  C 10.444602272727272 13.723958333333336  10.363636363636363 13.92361111111111  11 14.166666666666664  L 11 32.5  C 10.363636363636363 32.74305555555556  10.444602272727272 32.942708333333336  10.60653409090909 33.098958333333336  C 10.768465909090912 33.255208333333336  10.975378787878789 33.333333333333336  11.227272727272728 33.333333333333336  L 12.954545454545453 33.333333333333336  C 13.206439393939396 33.333333333333336  13.413352272727272 33.255208333333336  13.57528409090909 33.098958333333336  Z M 20.484375 33.098958333333336  C 20.64630681818182 32.942708333333336  20.727272727272727 32.74305555555556  20 32.5  L 20 14.166666666666664  C 20.727272727272727 13.92361111111111  20.64630681818182 13.723958333333336  20.484375 13.567708333333336  C 20.32244318181818 13.411458333333336  20.115530303030305 13.333333333333336  19.863636363636363 13.333333333333336  L 18.136363636363637 13.333333333333336  C 17.8844696969697 13.333333333333336  17.67755681818182 13.411458333333336  17.515625 13.567708333333336  C 17.35369318181818 13.723958333333336  17.272727272727273 13.92361111111111  18 14.166666666666664  L 18 32.5  C 17.272727272727273 32.74305555555556  17.35369318181818 32.942708333333336  17.515625 33.098958333333336  C 17.67755681818182 33.255208333333336  17.8844696969697 33.333333333333336  18.136363636363637 33.333333333333336  L 19.863636363636363 33.333333333333336  C 20.115530303030305 33.333333333333336  20.32244318181818 33.255208333333336  20.484375 33.098958333333336  Z M 27.393465909090907 33.098958333333336  C 27.555397727272727 32.942708333333336  27.636363636363637 32.74305555555556  27 32.5  L 27 14.166666666666664  C 27.636363636363637 13.92361111111111  27.555397727272727 13.723958333333336  27.393465909090907 13.567708333333336  C 27.231534090909093 13.411458333333336  27.02462121212121 13.333333333333336  26.772727272727273 13.333333333333336  L 25.045454545454543 13.333333333333336  C 24.793560606060606 13.333333333333336  24.586647727272727 13.411458333333336  24.424715909090907 13.567708333333336  C 24.262784090909093 13.723958333333336  24.18181818181818 13.92361111111111  24 14.166666666666664  L 24 32.5  C 24.18181818181818 32.74305555555556  24.262784090909093 32.942708333333336  24.424715909090907 33.098958333333336  C 24.586647727272727 33.255208333333336  24.793560606060606 33.333333333333336  25.045454545454543 33.333333333333336  L 26.772727272727273 33.333333333333336  C 27.02462121212121 33.333333333333336  27.231534090909093 33.255208333333336  27.393465909090907 33.098958333333336  Z M 14.276988636363637 3.619791666666665  L 12.954545454545453 7  L 25.045454545454543 7  L 23.75 3.619791666666665  C 23.624053030303035 3.463541666666665  23.471117424242426 3.3680555555555536  23.29119318181818 3.333333333333335  L 14.735795454545453 3.333333333333335  C 14.555871212121213 3.3680555555555536  14.402935606060609 3.463541666666665  14.276988636363637 3.619791666666665  Z M 37.75710227272727 6.901041666666665  C 37.91903409090909 7.057291666666665  38 7.256944444444442  38 7.5  L 38 9.166666666666664  C 38 9.409722222222218  37.91903409090909 9.609375  37.75710227272727 9.765625  C 37.59517045454545 9.921875  37.38825757575758 10  37.13636363636364 10  L 34 10  L 34 34.6875  C 34.54545454545455 36.12847222222222  34.12263257575758 37.37413194444444  33.27698863636364 38.424479166666664  C 32.4313446969697 39.474826388888886  31.414772727272727 40  30.227272727272727 40  L 7.772727272727273 40  C 6.585227272727273 40  5.5686553030303045 39.4921875  4.723011363636363 38.4765625  C 3.8773674242424248 37.4609375  3.4545454545454546 36.232638888888886  4 34.791666666666664  L 4 10  L 0.8636363636363636 10  C 0.6117424242424242 10  0.40482954545454547 9.921875  0.2428977272727273 9.765625  C 0.08096590909090909 9.609375  0 9.409722222222218  0 9.166666666666664  L 0 7.5  C 0 7.256944444444442  0.08096590909090909 7.057291666666665  0.2428977272727273 6.901041666666665  C 0.40482954545454547 6.744791666666665  0.6117424242424242 6.666666666666665  0.8636363636363636 6.666666666666665  L 9.203125 6.666666666666665  L 11.092329545454547 2.317708333333335  C 11.362215909090912 1.6753472222222188  11.848011363636365 1.1284722222222188  12.54971590909091 0.6770833333333348  C 13.251420454545455 0.22569444444444198  13.962121212121213 0  14.681818181818182 0  L 23.31818181818182 0  C 24.037878787878793 0  24.748579545454543 0.22569444444444198  25.450284090909093 0.6770833333333348  C 26.151988636363637 1.1284722222222188  26.637784090909093 1.6753472222222188  26.907670454545457 2.317708333333335  L 28.796875 6.666666666666665  L 37.13636363636364 6.666666666666665  C 37.38825757575758 6.666666666666665  37.59517045454545 6.744791666666665  37.75710227272727 6.901041666666665  Z "
							fill-rule="nonzero"
							fill="#21235f"
							stroke="none"
							transform="matrix(1 0 0 1 268 856 )"
						/>
					</g>
				</svg>
			</figure>
			<h4 class=" mb-[20px] text-2xl font-bold text-primary">Delete Metric</h4>

			<p class=" mb-[29px] text-lg text-primary">
				You're about to permanently delete this metric and all of its data. If you're not sure,
				please press cancel.
			</p>

			<form onsubmit={deleteMetric}>
				<p
					class=" mb-[20px] border-b-[3px] border-[#d7d7d7] pb-[7px] text-lg font-bold text-primary"
				>
					Type "delete metric" and submit.
				</p>

				<input
					type="text"
					placeholder="Type Here"
					class="input input-lg w-full max-w-[203px]"
					bind:value={deleteText}
				/>

				<div class="mt-[45px] flex w-full gap-[26px]">
					<button
						onclick={() => (modalDelete = false)}
						type="button"
						class=" btn btn-outline btn-lg btn-primary">Cancel</button
					>
					<button type="submit" class=" btn btn-lg btn-primary">Delete</button>
				</div>
			</form>
		</div>
	</dialog>
{/if}

{#if successDeleteModal}
	<dialog id="my_modal_1" class="modal-open modal">
		<div class="modal-box" transition:fade>
			<figure class="mx-auto flex h-[48px] w-[50px] items-center justify-center">
				<svg
					xmlns:xlink="http://www.w3.org/1999/xlink"
					xmlns="http://www.w3.org/2000/svg"
					version="1.1"
					width="48px"
					height="50px"
					class="h-full w-full"
				>
					<g transform="matrix(1 0 0 1 -268 -856 )">
						<path
							d="M 13.57528409090909 33.098958333333336  C 13.73721590909091 32.942708333333336  13.818181818181818 32.74305555555556  14 32.5  L 14 14.166666666666664  C 13.818181818181818 13.92361111111111  13.73721590909091 13.723958333333336  13.57528409090909 13.567708333333336  C 13.413352272727272 13.411458333333336  13.206439393939396 13.333333333333336  12.954545454545453 13.333333333333336  L 11.227272727272728 13.333333333333336  C 10.975378787878789 13.333333333333336  10.768465909090912 13.411458333333336  10.60653409090909 13.567708333333336  C 10.444602272727272 13.723958333333336  10.363636363636363 13.92361111111111  11 14.166666666666664  L 11 32.5  C 10.363636363636363 32.74305555555556  10.444602272727272 32.942708333333336  10.60653409090909 33.098958333333336  C 10.768465909090912 33.255208333333336  10.975378787878789 33.333333333333336  11.227272727272728 33.333333333333336  L 12.954545454545453 33.333333333333336  C 13.206439393939396 33.333333333333336  13.413352272727272 33.255208333333336  13.57528409090909 33.098958333333336  Z M 20.484375 33.098958333333336  C 20.64630681818182 32.942708333333336  20.727272727272727 32.74305555555556  20 32.5  L 20 14.166666666666664  C 20.727272727272727 13.92361111111111  20.64630681818182 13.723958333333336  20.484375 13.567708333333336  C 20.32244318181818 13.411458333333336  20.115530303030305 13.333333333333336  19.863636363636363 13.333333333333336  L 18.136363636363637 13.333333333333336  C 17.8844696969697 13.333333333333336  17.67755681818182 13.411458333333336  17.515625 13.567708333333336  C 17.35369318181818 13.723958333333336  17.272727272727273 13.92361111111111  18 14.166666666666664  L 18 32.5  C 17.272727272727273 32.74305555555556  17.35369318181818 32.942708333333336  17.515625 33.098958333333336  C 17.67755681818182 33.255208333333336  17.8844696969697 33.333333333333336  18.136363636363637 33.333333333333336  L 19.863636363636363 33.333333333333336  C 20.115530303030305 33.333333333333336  20.32244318181818 33.255208333333336  20.484375 33.098958333333336  Z M 27.393465909090907 33.098958333333336  C 27.555397727272727 32.942708333333336  27.636363636363637 32.74305555555556  27 32.5  L 27 14.166666666666664  C 27.636363636363637 13.92361111111111  27.555397727272727 13.723958333333336  27.393465909090907 13.567708333333336  C 27.231534090909093 13.411458333333336  27.02462121212121 13.333333333333336  26.772727272727273 13.333333333333336  L 25.045454545454543 13.333333333333336  C 24.793560606060606 13.333333333333336  24.586647727272727 13.411458333333336  24.424715909090907 13.567708333333336  C 24.262784090909093 13.723958333333336  24.18181818181818 13.92361111111111  24 14.166666666666664  L 24 32.5  C 24.18181818181818 32.74305555555556  24.262784090909093 32.942708333333336  24.424715909090907 33.098958333333336  C 24.586647727272727 33.255208333333336  24.793560606060606 33.333333333333336  25.045454545454543 33.333333333333336  L 26.772727272727273 33.333333333333336  C 27.02462121212121 33.333333333333336  27.231534090909093 33.255208333333336  27.393465909090907 33.098958333333336  Z M 14.276988636363637 3.619791666666665  L 12.954545454545453 7  L 25.045454545454543 7  L 23.75 3.619791666666665  C 23.624053030303035 3.463541666666665  23.471117424242426 3.3680555555555536  23.29119318181818 3.333333333333335  L 14.735795454545453 3.333333333333335  C 14.555871212121213 3.3680555555555536  14.402935606060609 3.463541666666665  14.276988636363637 3.619791666666665  Z M 37.75710227272727 6.901041666666665  C 37.91903409090909 7.057291666666665  38 7.256944444444442  38 7.5  L 38 9.166666666666664  C 38 9.409722222222218  37.91903409090909 9.609375  37.75710227272727 9.765625  C 37.59517045454545 9.921875  37.38825757575758 10  37.13636363636364 10  L 34 10  L 34 34.6875  C 34.54545454545455 36.12847222222222  34.12263257575758 37.37413194444444  33.27698863636364 38.424479166666664  C 32.4313446969697 39.474826388888886  31.414772727272727 40  30.227272727272727 40  L 7.772727272727273 40  C 6.585227272727273 40  5.5686553030303045 39.4921875  4.723011363636363 38.4765625  C 3.8773674242424248 37.4609375  3.4545454545454546 36.232638888888886  4 34.791666666666664  L 4 10  L 0.8636363636363636 10  C 0.6117424242424242 10  0.40482954545454547 9.921875  0.2428977272727273 9.765625  C 0.08096590909090909 9.609375  0 9.409722222222218  0 9.166666666666664  L 0 7.5  C 0 7.256944444444442  0.08096590909090909 7.057291666666665  0.2428977272727273 6.901041666666665  C 0.40482954545454547 6.744791666666665  0.6117424242424242 6.666666666666665  0.8636363636363636 6.666666666666665  L 9.203125 6.666666666666665  L 11.092329545454547 2.317708333333335  C 11.362215909090912 1.6753472222222188  11.848011363636365 1.1284722222222188  12.54971590909091 0.6770833333333348  C 13.251420454545455 0.22569444444444198  13.962121212121213 0  14.681818181818182 0  L 23.31818181818182 0  C 24.037878787878793 0  24.748579545454543 0.22569444444444198  25.450284090909093 0.6770833333333348  C 26.151988636363637 1.1284722222222188  26.637784090909093 1.6753472222222188  26.907670454545457 2.317708333333335  L 28.796875 6.666666666666665  L 37.13636363636364 6.666666666666665  C 37.38825757575758 6.666666666666665  37.59517045454545 6.744791666666665  37.75710227272727 6.901041666666665  Z "
							fill-rule="nonzero"
							fill="#21235f"
							stroke="none"
							transform="matrix(1 0 0 1 268 856 )"
						/>
					</g>
				</svg>
			</figure>
			<h4 class=" text-center text-3xl font-bold text-primary">Health Metrics been</h4>
			<p class=" text-center text-2xl text-[#7f7f7f]">successfully deleted.</p>
			<div class="modal-action justify-center">
				<button
					type="button"
					onclick={() => goto('/metrics/list')}
					class="btn btn-wide max-w-[150px] btn-lg btn-primary">Continue</button
				>
			</div>
		</div>
	</dialog>
{/if}

{#if modalEmail}
	<dialog id="my_modal_1" class="modal-open modal">
		<div class="relative modal-box" transition:fade>
			<button
				onclick={() => (modalEmail = false)}
				type="button"
				aria-label="close"
				class=" absolute top-[15px] right-[15px] cursor-pointer"
			>
				<svg
					xmlns:xlink="http://www.w3.org/1999/xlink"
					xmlns="http://www.w3.org/2000/svg"
					version="1.1"
					width="20px"
					height="20px"
				>
					<g transform="matrix(1 0 0 1 -644 -848 )">
						<path
							d="M 12.021428571428569 10  L 20 2.0214285714285714  L 17.97857142857143 0  L 10 7.9785714285714295  L 2.0214285714285714 0  L 0 2.0214285714285714  L 7.9785714285714295 10  L 0 17.97857142857143  L 2.0214285714285714 20  L 10 12.021428571428569  L 17.97857142857143 20  L 20 17.97857142857143  L 12.021428571428569 10  Z "
							fill-rule="nonzero"
							fill="#1e98d7"
							stroke="none"
							transform="matrix(1 0 0 1 644 848 )"
						/>
					</g>
				</svg>
			</button>
			<figure class="flex h-[40px] w-[40px] items-center justify-center">
				<svg
					xmlns:xlink="http://www.w3.org/1999/xlink"
					xmlns="http://www.w3.org/2000/svg"
					version="1.1"
					width="40px"
					height="40px"
				>
					<g transform="matrix(1 0 0 1 -28 -28 )">
						<path
							d="M 39.754464285714285 14.0625  C 39.918154761904766 14.196428571428573  40 14.375  40 14.598214285714285  L 40 36.42857142857143  C 40 37.410714285714285  39.65029761904762 38.251488095238095  38.950892857142854 38.950892857142854  C 38.2514880952381 39.65029761904762  37.41071428571429 40  36.42857142857143 40  L 3.5714285714285716 40  C 2.5892857142857144 40  1.7485119047619049 39.65029761904762  1.0491071428571428 38.950892857142854  C 0.34970238095238093 38.251488095238095  0 37.410714285714285  0 36.42857142857143  L 0 14.598214285714285  C 0 14.375  0.0818452380952381 14.196428571428573  0.24553571428571427 14.0625  C 0.36458333333333337 13.95833333333333  0.6547619047619048 13.701636904761902  1.1160714285714286 13.292410714285715  C 1.5773809523809526 12.883184523809522  1.8861607142857142 12.615327380952376  2.0424107142857144 12.488839285714285  C 2.1986607142857144 12.36235119047619  2.5372023809523814 12.08333333333333  3.0580357142857144 11.651785714285715  C 3.5788690476190474 11.220238095238093  4.099702380952381 10.807291666666664  4.620535714285714 10.412946428571427  C 5.1413690476190474 10.01860119047619  5.855654761904763 9.475446428571427  6.763392857142857 8.783482142857144  C 7.6711309523809526 8.091517857142856  8.738839285714286 7.295386904761902  9.966517857142858 6.395089285714284  C 11.194196428571427 5.494791666666665  12.626488095238098 4.449404761904758  14.263392857142858 3.258928571428572  C 14.33779761904762 3.1994047619047583  14.72842261904762 2.901785714285716  15.435267857142858 2.366071428571428  C 16.1421130952381 1.8303571428571441  16.674107142857142 1.4397321428571441  17.03125 1.194196428571428  C 17.388392857142858 0.9486607142857162  17.864583333333336 0.6882440476190466  18.459821428571427 0.41294642857142794  C 19.055059523809526 0.1376488095238093  19.568452380952383 0  20 0  C 20.43154761904762 0  20.944940476190478 0.1376488095238093  21.540178571428573 0.41294642857142794  C 22.13541666666667 0.6882440476190466  22.619047619047624 0.952380952380949  22.991071428571427 1.2053571428571441  C 23.36309523809524 1.4583333333333304  23.89136904761905 1.8452380952380931  24.575892857142854 2.366071428571428  C 25.26041666666667 2.8869047619047583  25.647321428571427 3.184523809523805  25.736607142857146 3.258928571428572  C 27.373511904761905 4.449404761904758  28.805803571428573 5.494791666666665  30.033482142857146 6.395089285714284  C 31.261160714285715 7.295386904761902  32.32886904761905 8.091517857142856  33.236607142857146 8.783482142857144  C 34.14434523809524 9.475446428571427  34.858630952380956 10.01860119047619  35.379464285714285 10.412946428571427  C 35.90029761904762 10.807291666666664  36.421130952380956 11.220238095238093  36.941964285714285 11.651785714285715  C 37.46279761904762 12.08333333333333  37.801339285714285 12.36235119047619  37.957589285714285 12.488839285714285  C 38.113839285714285 12.615327380952376  38.42261904761905 12.883184523809522  38.88392857142857 13.292410714285715  C 39.3452380952381 13.701636904761902  39.63541666666667 13.95833333333333  39.754464285714285 14.0625  Z M 26.339285714285715 28.470982142857146  C 26.949404761904766 28.002232142857146  27.306547619047624 27.730654761904763  27.410714285714285 27.65625  C 31.324404761904766 24.813988095238095  33.89136904761905 22.938988095238095  35.111607142857146 22.03125  C 35.27529761904762 21.91220238095238  35.36830357142858 21.75967261904762  35.390625 21.57366071428571  C 35.41294642857143 21.38764880952381  35.364583333333336 21.21279761904762  35.245535714285715 21.049107142857146  L 34.39732142857143 19.888392857142854  C 34.27827380952381 19.72470238095238  34.12202380952381 19.631696428571427  33.92857142857143 19.609375  C 33.73511904761905 19.587053571428573  33.55654761904762 19.635416666666664  33.392857142857146 19.754464285714285  C 29.955357142857146 22.269345238095237  27.40327380952381 24.12946428571429  25.736607142857146 25.334821428571427  C 25.66220238095238 25.37946428571429  25.275297619047624 25.669642857142854  24.575892857142854 26.205357142857146  C 23.8764880952381 26.741071428571427  23.34449404761905 27.131696428571427  22.979910714285715 27.377232142857146  C 22.61532738095238 27.622767857142854  22.13541666666667 27.883184523809522  21.540178571428573 28.158482142857146  C 20.944940476190478 28.433779761904763  20.43154761904762 28.571428571428573  20 28.571428571428573  C 19.568452380952383 28.571428571428573  19.055059523809526 28.433779761904763  18.459821428571427 28.158482142857146  C 17.864583333333336 27.883184523809522  17.38467261904762 27.622767857142854  17.020089285714285 27.377232142857146  C 16.655505952380953 27.131696428571427  16.123511904761905 26.741071428571427  15.424107142857142 26.205357142857146  C 14.724702380952383 25.669642857142854  14.33779761904762 25.37946428571429  14.263392857142858 25.334821428571427  C 11.495535714285714 23.34077380952381  8.943452380952383 21.480654761904763  6.607142857142857 19.754464285714285  C 6.443452380952381 19.635416666666664  6.2648809523809526 19.587053571428573  6.071428571428571 19.609375  C 5.877976190476192 19.631696428571427  5.721726190476192 19.72470238095238  5.602678571428571 19.888392857142854  L 4.754464285714286 21.049107142857146  C 4.635416666666667 21.21279761904762  4.587053571428571 21.38764880952381  4.609375 21.57366071428571  C 4.631696428571429 21.75967261904762  4.724702380952381 21.91220238095238  4.888392857142857 22.03125  C 6.1086309523809526 22.938988095238095  8.675595238095239 24.813988095238095  12.589285714285714 27.65625  C 12.738095238095239 27.77529761904762  13.11011904761905 28.05803571428571  13.705357142857142 28.50446428571429  C 14.300595238095239 28.950892857142854  14.78422619047619 29.300595238095237  15.15625 29.553571428571427  C 15.528273809523812 29.80654761904762  16.004464285714285 30.100446428571427  16.584821428571427 30.435267857142854  C 17.165178571428573 30.77008928571429  17.741815476190478 31.019345238095237  18.314732142857142 31.18303571428571  C 18.88764880952381 31.346726190476186  19.449404761904763 31.428571428571427  20 31.428571428571427  C 20.55059523809524 31.428571428571427  21.112351190476197 31.346726190476186  21.685267857142854 31.18303571428571  C 22.258184523809526 31.019345238095237  22.845982142857146 30.762648809523814  23.448660714285715 30.412946428571427  C 24.051339285714285 30.063244047619047  24.53125 29.769345238095237  24.888392857142854 29.53125  C 25.245535714285715 29.293154761904763  25.72916666666667 28.939732142857146  26.339285714285715 28.470982142857146  Z "
							fill-rule="nonzero"
							fill="#21235f"
							stroke="none"
							transform="matrix(1 0 0 1 28 28 )"
						/>
					</g>
				</svg>
			</figure>
			<h4 class="text-2xl font-bold text-primary">Email</h4>
			<p class=" mb-[20px] text-2xl text-primary">Health Metrics Report</p>

			<div>
				<p class=" text-lg text-primary">To</p>

				<p class="border-y border-[#d7d7d7] pt-[6px] pb-[11px] text-lg text-[#7f7f7f]">
					<span class="block"
						>{data?.user?.user_metadata?.first_name} {data?.user?.user_metadata?.last_name}</span
					>
					<span class="block">{data?.user?.email}</span>
				</p>

				<p class=" mt-2 text-lg font-light text-primary">
					Health Metrics Report will be send to above email address.
				</p>
			</div>

			<div class="mt-[54px] w-full">
				<button
					onclick={sendHealthReport}
					disabled={sending}
					type="button"
					class=" btn btn-wide max-w-[160px] btn-lg btn-secondary"
				>
					{#if sending}
						<svg xmlns="http://www.w3.org/2000/svg" width="38" height="38" viewBox="0 0 24 24"
							><path
								fill="none"
								stroke="currentColor"
								stroke-linecap="round"
								stroke-width="2"
								d="M12 6.99998C9.1747 6.99987 6.99997 9.24998 7 12C7.00003 14.55 9.02119 17 12 17C14.7712 17 17 14.75 17 12"
								><animateTransform
									attributeName="transform"
									attributeType="XML"
									dur="560ms"
									from="0,12,12"
									repeatCount="indefinite"
									to="360,12,12"
									type="rotate"
								/></path
							></svg
						>
					{:else}
						Send Email
					{/if}
				</button>
			</div>
		</div>
	</dialog>
{/if}

{#if modalEmailSuccess}
	<dialog id="my_modal_1" class="modal-open modal">
		<div class="modal-box" transition:fade>
			<figure class="mx-auto flex h-[50px] w-[50px] items-center justify-center">
				<svg
					xmlns:xlink="http://www.w3.org/1999/xlink"
					xmlns="http://www.w3.org/2000/svg"
					version="1.1"
					width="50px"
					height="50px"
				>
					<g transform="matrix(1 0 0 1 -28 -28 )">
						<path
							d="M 39.754464285714285 14.0625  C 39.918154761904766 14.196428571428573  40 14.375  40 14.598214285714285  L 40 36.42857142857143  C 40 37.410714285714285  39.65029761904762 38.251488095238095  38.950892857142854 38.950892857142854  C 38.2514880952381 39.65029761904762  37.41071428571429 40  36.42857142857143 40  L 3.5714285714285716 40  C 2.5892857142857144 40  1.7485119047619049 39.65029761904762  1.0491071428571428 38.950892857142854  C 0.34970238095238093 38.251488095238095  0 37.410714285714285  0 36.42857142857143  L 0 14.598214285714285  C 0 14.375  0.0818452380952381 14.196428571428573  0.24553571428571427 14.0625  C 0.36458333333333337 13.95833333333333  0.6547619047619048 13.701636904761902  1.1160714285714286 13.292410714285715  C 1.5773809523809526 12.883184523809522  1.8861607142857142 12.615327380952376  2.0424107142857144 12.488839285714285  C 2.1986607142857144 12.36235119047619  2.5372023809523814 12.08333333333333  3.0580357142857144 11.651785714285715  C 3.5788690476190474 11.220238095238093  4.099702380952381 10.807291666666664  4.620535714285714 10.412946428571427  C 5.1413690476190474 10.01860119047619  5.855654761904763 9.475446428571427  6.763392857142857 8.783482142857144  C 7.6711309523809526 8.091517857142856  8.738839285714286 7.295386904761902  9.966517857142858 6.395089285714284  C 11.194196428571427 5.494791666666665  12.626488095238098 4.449404761904758  14.263392857142858 3.258928571428572  C 14.33779761904762 3.1994047619047583  14.72842261904762 2.901785714285716  15.435267857142858 2.366071428571428  C 16.1421130952381 1.8303571428571441  16.674107142857142 1.4397321428571441  17.03125 1.194196428571428  C 17.388392857142858 0.9486607142857162  17.864583333333336 0.6882440476190466  18.459821428571427 0.41294642857142794  C 19.055059523809526 0.1376488095238093  19.568452380952383 0  20 0  C 20.43154761904762 0  20.944940476190478 0.1376488095238093  21.540178571428573 0.41294642857142794  C 22.13541666666667 0.6882440476190466  22.619047619047624 0.952380952380949  22.991071428571427 1.2053571428571441  C 23.36309523809524 1.4583333333333304  23.89136904761905 1.8452380952380931  24.575892857142854 2.366071428571428  C 25.26041666666667 2.8869047619047583  25.647321428571427 3.184523809523805  25.736607142857146 3.258928571428572  C 27.373511904761905 4.449404761904758  28.805803571428573 5.494791666666665  30.033482142857146 6.395089285714284  C 31.261160714285715 7.295386904761902  32.32886904761905 8.091517857142856  33.236607142857146 8.783482142857144  C 34.14434523809524 9.475446428571427  34.858630952380956 10.01860119047619  35.379464285714285 10.412946428571427  C 35.90029761904762 10.807291666666664  36.421130952380956 11.220238095238093  36.941964285714285 11.651785714285715  C 37.46279761904762 12.08333333333333  37.801339285714285 12.36235119047619  37.957589285714285 12.488839285714285  C 38.113839285714285 12.615327380952376  38.42261904761905 12.883184523809522  38.88392857142857 13.292410714285715  C 39.3452380952381 13.701636904761902  39.63541666666667 13.95833333333333  39.754464285714285 14.0625  Z M 26.339285714285715 28.470982142857146  C 26.949404761904766 28.002232142857146  27.306547619047624 27.730654761904763  27.410714285714285 27.65625  C 31.324404761904766 24.813988095238095  33.89136904761905 22.938988095238095  35.111607142857146 22.03125  C 35.27529761904762 21.91220238095238  35.36830357142858 21.75967261904762  35.390625 21.57366071428571  C 35.41294642857143 21.38764880952381  35.364583333333336 21.21279761904762  35.245535714285715 21.049107142857146  L 34.39732142857143 19.888392857142854  C 34.27827380952381 19.72470238095238  34.12202380952381 19.631696428571427  33.92857142857143 19.609375  C 33.73511904761905 19.587053571428573  33.55654761904762 19.635416666666664  33.392857142857146 19.754464285714285  C 29.955357142857146 22.269345238095237  27.40327380952381 24.12946428571429  25.736607142857146 25.334821428571427  C 25.66220238095238 25.37946428571429  25.275297619047624 25.669642857142854  24.575892857142854 26.205357142857146  C 23.8764880952381 26.741071428571427  23.34449404761905 27.131696428571427  22.979910714285715 27.377232142857146  C 22.61532738095238 27.622767857142854  22.13541666666667 27.883184523809522  21.540178571428573 28.158482142857146  C 20.944940476190478 28.433779761904763  20.43154761904762 28.571428571428573  20 28.571428571428573  C 19.568452380952383 28.571428571428573  19.055059523809526 28.433779761904763  18.459821428571427 28.158482142857146  C 17.864583333333336 27.883184523809522  17.38467261904762 27.622767857142854  17.020089285714285 27.377232142857146  C 16.655505952380953 27.131696428571427  16.123511904761905 26.741071428571427  15.424107142857142 26.205357142857146  C 14.724702380952383 25.669642857142854  14.33779761904762 25.37946428571429  14.263392857142858 25.334821428571427  C 11.495535714285714 23.34077380952381  8.943452380952383 21.480654761904763  6.607142857142857 19.754464285714285  C 6.443452380952381 19.635416666666664  6.2648809523809526 19.587053571428573  6.071428571428571 19.609375  C 5.877976190476192 19.631696428571427  5.721726190476192 19.72470238095238  5.602678571428571 19.888392857142854  L 4.754464285714286 21.049107142857146  C 4.635416666666667 21.21279761904762  4.587053571428571 21.38764880952381  4.609375 21.57366071428571  C 4.631696428571429 21.75967261904762  4.724702380952381 21.91220238095238  4.888392857142857 22.03125  C 6.1086309523809526 22.938988095238095  8.675595238095239 24.813988095238095  12.589285714285714 27.65625  C 12.738095238095239 27.77529761904762  13.11011904761905 28.05803571428571  13.705357142857142 28.50446428571429  C 14.300595238095239 28.950892857142854  14.78422619047619 29.300595238095237  15.15625 29.553571428571427  C 15.528273809523812 29.80654761904762  16.004464285714285 30.100446428571427  16.584821428571427 30.435267857142854  C 17.165178571428573 30.77008928571429  17.741815476190478 31.019345238095237  18.314732142857142 31.18303571428571  C 18.88764880952381 31.346726190476186  19.449404761904763 31.428571428571427  20 31.428571428571427  C 20.55059523809524 31.428571428571427  21.112351190476197 31.346726190476186  21.685267857142854 31.18303571428571  C 22.258184523809526 31.019345238095237  22.845982142857146 30.762648809523814  23.448660714285715 30.412946428571427  C 24.051339285714285 30.063244047619047  24.53125 29.769345238095237  24.888392857142854 29.53125  C 25.245535714285715 29.293154761904763  25.72916666666667 28.939732142857146  26.339285714285715 28.470982142857146  Z "
							fill-rule="nonzero"
							fill="#21235f"
							stroke="none"
							transform="matrix(1 0 0 1 28 28 )"
						/>
					</g>
				</svg>
			</figure>
			<h4 class=" text-center text-3xl font-bold text-primary">Health Metrics Report</h4>
			<p class=" text-center text-2xl text-[#7f7f7f]">successfully sent.</p>
			<div class="modal-action justify-center">
				<button
					type="button"
					onclick={() => (modalEmailSuccess = false)}
					class="btn btn-wide max-w-[150px] btn-lg btn-primary">Continue</button
				>
			</div>
		</div>
	</dialog>
{/if}
